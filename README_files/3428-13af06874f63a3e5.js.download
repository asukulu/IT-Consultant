"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3428],{34033:function(e,n,t){t.d(n,{EM:function(){return l},b8:function(){return s}});var i=t(89992),u=t(88075),a=t(24658),r=t(49793),o=t(99694),c=t(26821);let l=()=>{let{account:e,activeOrganization:n}=(0,u.t)(),t=null==e?void 0:e.uuid,l=null==n?void 0:n.uuid,{addError:s}=(0,a.e)(),d=(0,c.useQueryClient)();return(0,i.uC)("/api/organizations/".concat(l,"/sync/mcp/drive/ingest"),"POST",{onSuccess:()=>{setTimeout(()=>{d.invalidateQueries({queryKey:[r.dY,{orgUuid:l,accountUuid:t,syncSourceType:o.Fg.GDRIVE}]})},300)},onError:e=>{s(e)}})},s=()=>{let{activeOrganization:e}=(0,u.t)(),n=null==e?void 0:e.uuid,{addError:t}=(0,a.e)(),l=(0,c.useQueryClient)();return(0,i.uC)("/api/organizations/".concat(n,"/sync/ingestion/gdrive/clean_up"),"POST",{onSuccess:()=>{l.invalidateQueries({queryKey:[r.dY,{orgUuid:n,syncSourceType:o.Fg.GDRIVE}]})},onError:e=>{t(e)}})}},23428:function(e,n,t){t.d(n,{E4:function(){return k},En:function(){return V},J$:function(){return X},JQ:function(){return U},M1:function(){return P},Mr:function(){return ea},Mv:function(){return J},N:function(){return M},P8:function(){return eu},QD:function(){return Q},RS:function(){return $},Rs:function(){return A},Y$:function(){return ec},Yn:function(){return L},bZ:function(){return z},f0:function(){return q},gQ:function(){return j},gb:function(){return ef},hJ:function(){return F},j5:function(){return ev},lP:function(){return ei},mD:function(){return B},nC:function(){return W},sf:function(){return es},sv:function(){return N},tc:function(){return I},td:function(){return Z},tr:function(){return O},vc:function(){return ee},xm:function(){return ed},xn:function(){return R},yb:function(){return en}});var i,u,a,r,o,c,l=t(73567),s=t(89992),d=t(88075),g=t(24658),f=t(65490),v=t(2275),y=t(44846),_=t(49793),h=t(99694),p=t(26821),b=t(67754),m=t(7653),E=t(17792),S=t(1489),C=t(71894),D=t(34033);let A="drive_indexing_enablement_2/11_1",T="gdrive_success",w="github_success";(i=r||(r={})).PENDING="pending",i.STARTED="started",i.COMPLETED="completed",i.FAILED="failed",(u=o||(o={})).PATH_NOT_FOUND="path_not_found",u.INVALID_SHA="invalid_sha",u.SIZE_LIMIT_EXCEEDED="size_limit_exceeded",u.SOURCE_MISSING_OR_CHANGED="source_missing_or_changed",(a=c||(c={})).NOT_AUTHENTICATED="not_authenticated",a.NOT_AUTHORIZED="not_authorized",a.CAN_ACCESS="can_access";let F=e=>e.type===h.Fg.GITHUB?{sync_source_type:h.Fg.GITHUB,sync_source_config:e.config}:e.type===h.Fg.GDRIVE?{sync_source_type:h.Fg.GDRIVE,sync_source_config:e.config}:null,I=()=>{let{activeOrganization:e}=(0,d.t)(),n=null==e?void 0:e.uuid,{value:t}=(0,y.F)("nighthawk_enabled"),{value:i}=(0,y.F)("kingfisher_enabled"),{value:u}=(0,y.F)("spider_enabled_2"),{value:a}=(0,y.F)("cinnabon_enabled");return(0,s.WE)("/api/organizations/".concat(n,"/sync/settings"),{queryKey:[_.FU,{orgUUID:n}],enabled:!!(e&&(t||i||u||a))})},P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,d.t)(),t=null==n?void 0:n.uuid,{value:i}=(0,y.F)("nighthawk_enabled"),{value:u}=(0,y.F)("kingfisher_enabled"),{value:a}=(0,y.F)("spider_enabled_2"),{value:r}=(0,y.F)("cinnabon_enabled"),o=(0,p.useQueryClient)();return(0,s.Ne)("/api/organizations/".concat(t,"/sync/settings"),"PUT",(e,n)=>{let{type:t,enabled:i}=e;n||(n=[]);let u=n.map(e=>e.type===t?{...e,enabled:i}:e);return u.some(e=>e.type===t)?u:[...n,{type:t,enabled:i}]},{queryKey:[_.FU,{orgUUID:t}],enabled:!!(n&&(i||u||a||r)),onSuccess:async function(){for(var n,i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];await o.invalidateQueries({queryKey:[_.FU,{orgUUID:t}]}),await (null===(n=e.onSuccess)||void 0===n?void 0:n.call(e,...u))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,d.t)(),t=null==n?void 0:n.uuid,i=(0,p.useQueryClient)(),{value:u}=(0,y.F)("kingfisher_enabled"),{value:a}=(0,y.F)("apps_use_bananagrams");return(0,s.Ne)("/api/organizations/".concat(t,"/sync/settings/config"),"POST",(e,n)=>{let{type:t,config:i}=e;return n||(n=[]),n.map(e=>e.type===t?{...e,config:{...e.config,...i}}:e)},{queryKey:[_.FU,{orgUUID:t}],enabled:!!(n&&u&&a),onSuccess:async function(){for(var n,u=arguments.length,a=Array(u),r=0;r<u;r++)a[r]=arguments[r];await i.invalidateQueries({queryKey:[_.FU,{orgUUID:t}]}),await (null===(n=e.onSuccess)||void 0===n?void 0:n.call(e,...a))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},U=()=>{let e=k(),n=(0,d.rW)(),{value:t}=(0,y.F)("apps_use_bananagrams");return e&&n&&t},O=()=>{let e=U(),n=(0,d.Cf)(),{data:t}=I(),i=!!n&&!(null==t?void 0:t.find(e=>{var n;return e.type===h.Fg.GDRIVE&&e.enabled&&(null===(n=e.config)||void 0===n?void 0:n.allow_indexing)}));return e&&!i},q=()=>{let{isDismissed:e}=(0,E.K)(),n=e(A),t=O(),i=x();return t&&!n&&i},N=()=>{let{account:e}=(0,d.t)(),{mutate:n}=(0,l.Ck)(),t=(0,d.Cf)(),{data:i}=I(),u=!!t&&!(null==i?void 0:i.find(e=>{var n;return e.type===h.Fg.GDRIVE&&e.enabled&&(null===(n=e.config)||void 0===n?void 0:n.allow_indexing)})),{mutate:a}=(0,D.EM)(),{enabled_bananagrams:r,enabled_gdrive_indexing:o}=(null==e?void 0:e.settings)||{};return{isDriveIndexingDisabledByOrg:u,isDriveSearchEnabled:r,isDriveIndexingEnabled:!u&&o,toggleDriveSearchAndIndexingEnabled:t=>{var i;let{indexingEnabled:u,searchEnabled:r,dismissBanner:o}=t;u&&a({}),n({...null==e?void 0:e.settings,...void 0!==u?{enabled_gdrive_indexing:u}:null,...void 0!==r||!0===u?{enabled_bananagrams:null!=u?u:r}:null,...o?{dismissed_claudeai_banners:[...(null==e?void 0:null===(i=e.settings)||void 0===i?void 0:i.dismissed_claudeai_banners)||[],{banner_id:A,dismissed_at:new Date().toISOString()}]}:null})}}},K=(e,n)=>{let t=new URLSearchParams(Array.from(n.entries()));t.delete(e);let i=t.toString()?"?".concat(t.toString()):"",u=window.location.pathname+i;window.history.replaceState({...window.history.state,as:u,url:u},"",u)},G=e=>{let{callerIdentifier:n,successParam:t,handleOpen:i}=e,u=(0,b.useSearchParams)(),a=(0,m.useRef)(!1);(0,m.useEffect)(()=>{!u.has(t)||a.current||n&&n!==u.get(t)||(a.current=!0,K(t,u),i())},[u,n,i,t])},z=()=>{let{value:e}=(0,y.F)("cinnabon_enabled");return e},Q=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:t}=(0,d.t)(),i=null==t?void 0:t.uuid,u=(0,b.useRouter)(),a=(0,b.usePathname)(),r=(0,b.useSearchParams)(),{callerIdentifier:o,onAuthSuccess:c}=n,l=z(),g=(0,p.useQueryClient)(),{data:f}=(0,s.WE)("/api/organizations/".concat(i,"/sync/").concat(e,"/auth"),{queryKey:["sync_".concat(e,"_auth_status"),{orgUUID:i}],enabled:!!(t&&l)}),y=(0,m.useRef)(!1),{mutate:_}=(0,s.uC)("/api/organizations/".concat(i,"/sync/").concat(e,"/auth/start"),"POST",{enabled:!!(t&&l),onSuccess:e=>{u.push(e.redirect_url)}});G({callerIdentifier:o,successParam:"".concat(e,"_success"),handleOpen:()=>null==c?void 0:c(!0)});let{mutate:h}=(0,s.uC)("/api/organizations/".concat(i,"/sync/").concat(e,"/auth"),"DELETE",{enabled:!!(t&&l),onSuccess:()=>{g.invalidateQueries({queryKey:["sync_".concat(e,"_auth_status"),{orgUUID:i}]})}});return{isAuthenticated:!!(null==f?void 0:f.is_authenticated),startAuth:()=>{if(!y.current&&l){y.current=!0;let n=Y({pathname:a,searchParams:r,queryString:"".concat(e,"_success=").concat(o)});if((0,v.Rx)()){window.open("/settings/profile?open_in_browser=1&auth_start=".concat(e,"&origin=").concat(n));return}_({pre_auth_state:{origin:n},redirect_uri:new URL("/connect/".concat(e,"/callback"),window.location.origin).toString()})}},disconnect:h}},L=function(){let{callerIdentifier:e,toggleGithubModalOpen:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,d.t)(),i=null==t?void 0:t.uuid,u=eu(),a=(0,b.useRouter)(),{data:r}=(0,s.WE)("/api/organizations/".concat(i,"/sync/github/auth"),{queryKey:[_.Os,{orgUUID:i}],enabled:!!(t&&u)}),{mutate:o}=(0,s.uC)("/api/organizations/".concat(i,"/sync/github/auth/start"),"POST",{enabled:!!(t&&u),onSuccess:e=>{a.push(e.redirect_url)}}),c="".concat(w,"=").concat(e);G({callerIdentifier:e,successParam:w,handleOpen:()=>{null==n||n(!0)}});let l=(0,b.useSearchParams)(),g=(0,m.useRef)(!1),f=Y({pathname:(0,b.usePathname)(),searchParams:l,queryString:c});return{isGithubAuthenticated:!!(null==r?void 0:r.is_authenticated),initGithubAuth:()=>{if(u){if((0,v.Rx)()){window.open("/settings/profile?open_in_browser=1&auth_start=github&origin=".concat(f));return}g.current||(g.current=!0,o({pre_auth_state:{origin:f}}))}}}},M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,d.t)(),t=null==n?void 0:n.uuid,i=eu(),u=(0,p.useQueryClient)();return(0,s.uC)("/api/organizations/".concat(t,"/sync/github/auth"),"DELETE",{enabled:!!(n&&i),...e,onSuccess:function(){for(var n,i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];u.invalidateQueries({queryKey:[_.Os,{orgUUID:t}]}),null===(n=e.onSuccess)||void 0===n||n.call(e,...a)}})},k=()=>{let{data:e}=I(),n=(0,d.Cf)(),{value:t}=(0,y.F)("kingfisher_enabled"),i=!!(null==e?void 0:e.find(e=>e.type===h.Fg.GDRIVE&&e.enabled));return!!(t&&(!n||i))},x=()=>{let{account:e,activeOrganization:n}=(0,d.t)(),t=null==n?void 0:n.uuid,i=k(),{data:u}=(0,s.WE)("/api/organizations/".concat(t,"/sync/mcp/drive/auth"),{queryKey:[_.Yw,{accountUUID:null==e?void 0:e.uuid,orgUUID:t}],enabled:i,staleTime:3e5});return!!(null==u?void 0:u.is_authenticated)},H=e=>{let{callerIdentifier:n}=e,t=(0,b.usePathname)(),{account:i,activeOrganization:u}=(0,d.t)(),a=null==i?void 0:i.uuid,r=null==u?void 0:u.uuid,o=k(),c=(0,b.useRouter)(),l=(0,p.useQueryClient)(),g=(0,b.useSearchParams)(),{mutate:f}=(0,s.uC)("/api/organizations/".concat(r,"/sync/mcp/drive/auth/start"),"POST",{enabled:o,onSuccess:e=>{c.push(e.redirect_url)}}),y=(0,m.useRef)(!1);return()=>{if(!o)return;let e=Y({pathname:t,searchParams:g,queryString:"".concat(T,"=").concat(n)});if(l.invalidateQueries({queryKey:[_.Yw,{accountUUID:a,orgUUID:r}]}),(0,v.Rx)()){window.open("/settings/profile?open_in_browser=1&auth_start=gdrive&origin=".concat(e));return}y.current||(y.current=!0,f({pre_auth_state:{origin:e},redirect_uri:new URL("/connect/mcp/drive/callback",window.location.origin).toString()}))}},W=function(){let{callerIdentifier:e,handleAuthSuccess:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=x(),i=q(),{dropdownToOpen:u,openModal:a,clearCallerIdentifier:r}=(0,S.J)(),o=function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!t){null==n||n(t);return}i?(a(e),null==n||n(!1)):null==n||n(t)},c=H({callerIdentifier:e});return G({callerIdentifier:e,successParam:T,handleOpen:o}),(0,m.useEffect)(()=>{e&&u===e&&(null==n||n(!0),r())},[u,n,e,r]),{isDriveAuthenticated:t,shouldShowDriveIndexingEnablementModal:i,initDriveAuth:c,handleDriveTrigger:o}},Y=e=>{let{pathname:n,searchParams:t,queryString:i}=e,u="".concat(n,"?").concat(i),a=t.get("origin");if(a)u=a;else if((0,v.Rx)()){let e=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i,t=n.startsWith("/project/")&&e.test(n.slice(9)),a=n.startsWith("/chat/")&&e.test(n.slice(6));u="claude://claude.ai".concat(t||a||"/new"===n?n:"/new","?").concat(i)}return u},V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:n,activeOrganization:t}=(0,d.t)(),i=null==n?void 0:n.uuid,u=null==t?void 0:t.uuid,a=k(),r=(0,p.useQueryClient)(),{mutate:o}=(0,D.b8)();return(0,s.uC)("/api/organizations/".concat(u,"/sync/mcp/drive/auth"),"DELETE",{enabled:!!(t&&a),...e,onSuccess:function(){for(var n,t=arguments.length,a=Array(t),c=0;c<t;c++)a[c]=arguments[c];r.invalidateQueries({queryKey:[_.Yw,{accountUUID:i,orgUUID:u}]}),o({}),null===(n=e.onSuccess)||void 0===n||n.call(e,...a)}})},J=e=>{let{documentId:n}=e,{account:t,activeOrganization:i}=(0,d.t)(),u=null==t?void 0:t.uuid,a=null==i?void 0:i.uuid,r=k(),o=(0,p.useQueryClient)(),c=(0,s.WE)("/api/organizations/".concat(a,"/sync/mcp/drive/document/").concat(n),{queryKey:[_.HI,{accountUUID:u,orgUUID:a,documentId:n}],enabled:r,meta:{noToast:!0}}),l=c.isError;return(0,m.useEffect)(()=>{l&&o.invalidateQueries({queryKey:[_.Yw,{accountUUID:u,orgUUID:a}]})},[o,l,u,a]),c},B=e=>{let{account:n,activeOrganization:t}=(0,d.t)(),i=null==n?void 0:n.uuid,u=null==t?void 0:t.uuid,a=k(),r=(0,m.useMemo)(()=>e.map(e=>"/api/organizations/".concat(u,"/sync/mcp/drive/document/").concat(e)),[e,u]),o=(0,m.useMemo)(()=>({queryKey:e.map(e=>[_.Yp,{accountUUID:i,orgUUID:u,documentId:e}]),enabled:a,meta:{noToast:!0}}),[e,i,u,a]);return(0,s.Nl)(r,o)},Z=e=>{let{account:n,activeOrganization:t}=(0,d.t)(),i=null==n?void 0:n.uuid,u=null==t?void 0:t.uuid,a=k(),r=(0,C.F7)(),{data:o,isSuccess:c,isLoading:l}=(0,s.WE)("/api/organizations/".concat(u,"/sync/mcp/drive/recents"),{queryKey:[_.s8,{accountUUID:i,orgUUID:u}],enabled:e&&a,meta:{noToast:!0}});return(0,m.useEffect)(()=>{if(c&&o){let e=o.map(e=>{let{uri:n,title:t}=e;return{uri:n,title:t}});(0,C.MU)(e)}},[c,o]),{recentDriveDocs:c?o:r,isLoading:l}},j=e=>{let{documentId:n}=e,{account:t,activeOrganization:i}=(0,d.t)(),u=null==t?void 0:t.uuid,a=null==i?void 0:i.uuid,r=X();return(0,s.WE)("/api/organizations/".concat(a,"/sync/mcp/outline/document/").concat(n),{queryKey:[_.q2,{accountUUID:u,orgUUID:a,documentId:n}],enabled:r})},$=e=>{let{account:n,activeOrganization:t}=(0,d.t)(),i=null==n?void 0:n.uuid,u=null==t?void 0:t.uuid,a=X(),r=(0,m.useMemo)(()=>e.map(e=>"/api/organizations/".concat(u,"/sync/mcp/outline/document/").concat(e)),[e,u]),o=(0,m.useMemo)(()=>({queryKey:e.map(e=>[_.q2,{accountUUID:i,orgUUID:u,documentId:e}]),enabled:a,meta:{noToast:!0}}),[i,e,a,u]);return(0,s.Nl)(r,o)},X=()=>{let{data:e}=I();return!1},ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:n,activeOrganization:t}=(0,d.t)(),i=null==t?void 0:t.uuid,u=X(),{data:a,refetch:r}=(0,s.WE)("/api/organizations/".concat(i,"/sync/mcp/outline/auth"),{queryKey:[_.Sp,{accountUUID:null==n?void 0:n.uuid,orgUUID:i}],enabled:!!(t&&u),staleTime:5e3}),{mutate:o,isPending:c}=(0,s.uC)("/api/organizations/".concat(i,"/sync/mcp/outline/auth/start"),"POST",{enabled:!!(t&&u),...e,onSuccess:function(){for(var n,t=arguments.length,i=Array(t),u=0;u<t;u++)i[u]=arguments[u];null===(n=e.onSuccess)||void 0===n||n.call(e,...i)}});return{isOutlineAuthenticated:!!(null==a?void 0:a.is_authenticated),refetch:r,initOutlineAuth:o,isLoadingOutlineAuthInit:c}},en=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:n,activeOrganization:t}=(0,d.t)(),i=null==n?void 0:n.uuid,u=null==t?void 0:t.uuid,a=X(),r=(0,p.useQueryClient)();return(0,s.uC)("/api/organizations/".concat(u,"/sync/mcp/outline/auth"),"DELETE",{enabled:!!(t&&a),...e,onSuccess:function(){for(var n,t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];r.invalidateQueries({queryKey:[_.Sp,{accountUUID:i,orgUUID:u}]}),null===(n=e.onSuccess)||void 0===n||n.call(e,...a)}})},et=()=>{let e=encodeURIComponent(window.location.href);window.location.href="/settings/profile?redirect_url=".concat(e,"&open_outline_auth=true")},ei=()=>{let{initGithubAuth:e}=L(),{initDriveAuth:n}=W();return t=>{t===h.Fg.GITHUB?e():t===h.Fg.GDRIVE?n():t===h.Fg.OUTLINE&&et()}},eu=()=>{let{data:e}=I(),n=(0,d.Cf)(),{value:t}=(0,y.F)("nighthawk_enabled"),i=!!(null==e?void 0:e.find(e=>e.type===h.Fg.GITHUB&&e.enabled));return!!(t&&(!n||i))},ea=()=>{let{activeOrganization:e}=(0,d.t)(),n=null==e?void 0:e.uuid,t=eu();return(0,s.WE)("/api/organizations/".concat(n,"/sync/github/repos"),{queryKey:[_.wD,{orgUUID:n}],enabled:!!(e&&t),meta:{noToast:!0}})},er=e=>{let{owner:n,repo:t,branch:i}=e,{activeOrganization:u}=(0,d.t)(),a=null==u?void 0:u.uuid,r=eu(),o=new URLSearchParams({owner:null!=n?n:"",repo:null!=t?t:""}).toString();return(0,s.WE)("/api/organizations/".concat(a,"/sync/github/repo?").concat(o),{queryKey:[_.Rz,{orgUUID:a,owner:n,repo:t}],enabled:!!(n&&t&&!i&&u&&r),meta:{noToast:!0}})},eo=e=>{let{owner:n,repo:t,branch:i}=e,{activeOrganization:u}=(0,d.t)(),a=null==u?void 0:u.uuid,r=eu();return(0,s.WE)("/api/organizations/".concat(a,"/sync/github/repo/").concat(n,"/").concat(t,"/tree/").concat(i),{queryKey:[_.E0,{orgUUID:a,owner:n,repo:t,branch:i}],staleTime:3e5,enabled:!!(n&&t&&i&&u&&r),meta:{noToast:!0}})},ec=e=>{var n;let{owner:t,repo:i,branch:u}=e,a=er({owner:t,repo:i,branch:u}),r=eo({owner:t,repo:i,branch:u||(null===(n=a.data)||void 0===n?void 0:n.default_branch)});return{data:{repo:a.data,tree:r.data},isFetching:a.isFetching||r.isFetching,error:a.error||r.error}},el=e=>[h.co.CREATED,h.co.PENDING,h.co.UPDATING].includes(e),es=e=>el(e.status.state),ed=e=>[h.co.FAILED,h.co.UPDATE_FAILED].includes(e.status.state),eg=e=>{if(e instanceof f.Hx)return e instanceof f.Hx&&"access_denied"===e.errorCode},ef=()=>{let{addError:e}=(0,g.e)(),n=(0,p.useQueryClient)();return(t,i)=>{eg(t)&&(e("Please try again. You may need to reconnect with your ".concat(h.hP[i.sync_source_type]," account.")),_.Su.forEach(e=>{n.invalidateQueries({queryKey:[e]})}),n.invalidateQueries({queryKey:[_.cF]}))}},ev=e=>{let{data:n}=I(),t=(0,d.Cf)(),{value:i}=(0,y.F)("cinnabon_enabled"),u=!!(null==n?void 0:n.find(n=>n.type===e&&n.enabled));return!!(i&&(!t||u))}},17792:function(e,n,t){t.d(n,{K:function(){return r}});var i=t(73567),u=t(88075),a=t(7653);function r(){let{mutate:e,isPending:n}=(0,i.Ck)(),{account:t}=(0,u.t)();return{dismiss:(0,a.useCallback)(n=>{var i;t&&e({...t.settings,dismissed_claudeai_banners:[...(null==t?void 0:null===(i=t.settings)||void 0===i?void 0:i.dismissed_claudeai_banners)||[],{banner_id:n,dismissed_at:new Date().toISOString()}]})},[t,e]),isDismissed:(0,a.useCallback)(e=>{var n,i;return(null==t?void 0:null===(i=t.settings)||void 0===i?void 0:null===(n=i.dismissed_claudeai_banners)||void 0===n?void 0:n.some(n=>n.banner_id===e))||!1},[t]),isPending:n}}},1489:function(e,n,t){t.d(n,{J:function(){return l},Q:function(){return c}});var i=t(27573),u=t(90345),a=t.n(u),r=t(7653);let o=(0,r.createContext)({isOpen:!1,dropdownToOpen:void 0,openModal:a(),closeModal:a(),clearCallerIdentifier:a()}),c=e=>{let{children:n}=e,[t,u]=(0,r.useState)(!1),a=(0,r.useRef)(void 0),[c,l]=(0,r.useState)(void 0);return(0,i.jsx)(o.Provider,{value:{isOpen:t,openModal:e=>{u(!0),a.current=e},closeModal:()=>{u(!1),l(a.current)},dropdownToOpen:c,clearCallerIdentifier:()=>{l(void 0)}},children:n})},l=()=>(0,r.useContext)(o)},71894:function(e,n,t){t.d(n,{F7:function(){return r},MU:function(){return a},ZZ:function(){return o}});let i="recentDriveDocs";function u(e){return"object"==typeof e&&null!==e&&"string"==typeof e.uri&&("string"==typeof e.title||void 0===e.title)}function a(e){localStorage.setItem(i,JSON.stringify(e))}function r(){let e=localStorage.getItem(i);if(e){let n=JSON.parse(e);if(n&&Array.isArray(n)&&n.every(u))return n}return[]}function o(e){let n=r();a(n=n.filter(n=>n.uri!==e))}},99694:function(e,n,t){var i,u,a,r;t.d(n,{Fg:function(){return i},co:function(){return u},hP:function(){return o},qC:function(){return c}}),(a=i||(i={})).GITHUB="github",a.GDRIVE="gdrive",a.OUTLINE="outlin",a.SALESFORCE="sfdc",a.GMAIL="gmail",a.GCAL="gcal",a.SLACK="slack",a.ASANA="asana";let o={github:"GitHub",gdrive:"Google Drive",outlin:"Outline",sfdc:"Salesforce",gmail:"Gmail",gcal:"Google Calendar",slack:"Slack",asana:"Asana"};(r=u||(u={})).CREATED="created",r.PENDING="pending",r.FAILED="failed",r.UPDATING="updating",r.UPDATE_FAILED="update_failed",r.READY="ready",r.UNAUTHENTICATED="unauthenticated",r.ACCESS_DENIED="access_denied",r.DISABLED="disabled";let c=["access_denied","failed","unauthenticated","update_failed"]}}]);